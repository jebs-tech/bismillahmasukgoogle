<h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 text-brand-dark-blue">
      <path fill-rule="evenodd" d="M11.54 22.351A2.477 2.477 0 0 1 9 20.25a2.477 2.477 0 0 1-2.54-2.099L5.27 1.26a.75.75 0 0 1 .72-1.011h12a.75.75 0 0 1 .72 1.011l-1.69 17.092c-.34.34-1.127.604-2.03.604h-1.025ZM12 9a.75.75 0 0 0-.75.75v5.5a.75.75 0 0 0 1.5 0v-5.5A.75.75 0 0 0 12 9ZM8 9a.75.75 0 0 0-.75.75v5.5a.75.75 0 0 0 1.5 0v-5.5A.75.75 0 0 0 8 9ZM16 9a.75.75 0 0 0-.75.75v5.5a.75.75 0 0 0 1.5 0v-5.5A.75.75 0 0 0 16 9Z" clip-rule="evenodd" />
    </svg>
    <span>Tiket Aktif Saya</span>
</h2>

{% if active_purchases %} <div class="space-y-6">
        
        {% for purchase in active_purchases %}
        {% for seat in purchase.seats.all %}
        
        <div class="relative bg-white rounded-lg shadow-xl overflow-hidden border border-brand-light-blue p-6">
            
            <div class="flex items-center justify-between border-b pb-4 mb-4">
                <h3 class="text-xl font-bold text-gray-900">{{ purchase.match.title }}</h3>
                <span class="text-sm font-semibold text-brand-dark-blue px-3 py-1 bg-brand-light-blue bg-opacity-10 rounded-full">
                    {{ purchase.match.start_time|date:"d M Y, H:i" }}
                </span>
            </div>
            
            <div class="grid grid-cols-2 gap-y-4 gap-x-6">
                <div class="col-span-2 flex items-center gap-4 py-2 border-b border-gray-100">
                    <div class="flex items-center space-x-2">
                        {% if purchase.match.team_a.logo %}
                            <img src="{{ purchase.match.team_a.logo.url }}" alt="{{ purchase.match.team_a.name }}" class="w-8 h-8 rounded-full object-cover">
                        {% else %}<span class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-xs font-bold">A</span>{% endif %}
                        <span class="font-medium text-gray-700">{{ purchase.match.team_a.name }}</span>
                    </div>
                    <span class="font-bold text-gray-500">VS</span>
                    <div class="flex items-center space-x-2">
                        {% if purchase.match.team_b.logo %}
                            <img src="{{ purchase.match.team_b.logo.url }}" alt="{{ purchase.match.team_b.name }}" class="w-8 h-8 rounded-full object-cover">
                        {% else %}<span class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-xs font-bold">B</span>{% endif %}
                        <span class="font-medium text-gray-700">{{ purchase.match.team_b.name }}</span>
                    </div>
                </div>

                <div>
                    <p class="text-xs text-gray-500">Lokasi</p>
                    <p class="font-semibold text-gray-800">{{ purchase.match.venue.name }}</p>
                </div>
                
                <div>
                    <p class="text-xs text-gray-500">Kursi</p>
                    <p class="font-semibold text-gray-800">{{ seat.category.name }} (Baris: {{ seat.row }}, Kolom: {{ seat.col }})</p>
                </div>
            </div>
            
            <div class="mt-6 pt-4 border-t border-gray-100 flex justify-center">
                <button hx-get="{% url 'user:ticket_detail' ticket_id=seat.id %}"
                        hx-target="#modal-content"
                        hx-swap="innerHTML"
                        class="px-6 py-2 bg-brand-orange text-white font-semibold rounded-lg shadow-md hover:bg-orange-500 transition-colors">
                    Tampilkan QR Code / Scan
                </button>
            </div>
        </div>
        
        {% endfor %}{% endfor %}</div>

{% else %}
    
    <div class="flex flex-col items-center justify-center pt-12 text-center">
        <svg class="w-16 h-16 text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z" />
        </svg>
        <h3 class="mt-4 text-xl font-semibold text-gray-700">Tidak Ada Tiket Aktif</h3>
        <p class="mt-1 text-gray-500">Saat Anda membeli tiket, tiket akan muncul di sini.</p>
    </div>

{% endif %}