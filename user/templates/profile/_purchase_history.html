<h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 text-brand-dark-blue">
      <path fill-rule="evenodd" d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v14.25C1.5 20.16 2.339 21 3.375 21h17.25c1.035 0 1.875-.84 1.875-1.875V4.875C22.5 3.84 21.661 3 20.625 3H3.375ZM9 6.75A.75.75 0 0 0 9 8.25h6a.75.75 0 0 0 0-1.5H9Zm0 3.75A.75.75 0 0 0 9 12h6a.75.75 0 0 0 0-1.5H9Zm0 3.75A.75.75 0 0 0 9 15.75h6a.75.75 0 0 0 0-1.5H9Z" clip-rule="evenodd" />
    </svg>
    <span>Riwayat Pembelian</span>
</h2>

{% if purchase_history %}
    
    <div class="space-y-4">
        
        {% for item in purchase_history %}
        
        <a hx-get="{% url 'user:purchase_detail' event_id=item.id %}"
                hx-target="#dashboard-content"
                hx-swap="innerHTML"
                class="relative flex items-center justify-between p-4 bg-amber-100 rounded-lg border border-amber-300 shadow-sm 
                        cursor-pointer hover:shadow-md hover:border-amber-400 transition-all duration-200">
            
            {% if item.ticket_count > 1 %}
            <div class="absolute -top-3 -right-3 px-3 py-1 bg-brand-dark-blue text-white text-xs font-bold rounded-full shadow-md">
                x{{ item.ticket_count }} Tiket
            </div>
            {% endif %}
            
            <div class="flex items-center space-x-3 shrink-0">
                {% if item.team_a.logo %}
                    <img src="{{ item.team_a.logo.url }}" alt="{{ item.team_a.name }}" class="w-12 h-12 rounded-full object-cover border-2 border-white">
                {% else %}
                    <div class="w-12 h-12 bg-white rounded-full border-2 border-gray-800 flex items-center justify-center">
                        <span class="text-2xl font-bold text-gray-800">?</span>
                    </div>
                {% endif %}
                
                <span class="text-gray-700 font-semibold">vs</span>
                
                {% if item.team_b.logo %}
                    <img src="{{ item.team_b.logo.url }}" alt="{{ item.team_b.name }}" class="w-12 h-12 rounded-full object-cover border-2 border-white">
                {% else %}
                    <div class="w-12 h-12 bg-white rounded-full border-2 border-gray-800 flex items-center justify-center">
                        <span class="text-2xl font-bold text-gray-800">?</span>
                    </div>
                {% endif %}
            </div>
            
            <div class="flex-grow ml-6">
                <h3 class="font-bold text-lg text-gray-900">{{ item.name }}</h3>
                <p class="text-sm text-gray-600 flex items-center gap-1 mt-1">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
                      <path fill-rule="evenodd" d="M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001c.198-.087.683-.298 1.395-.64.692-.33 1.6-1.036 2.463-2.036.884-1.02 1.838-2.35 2.531-3.951.672-1.55.999-3.23.999-4.78 0-5.523-4.477-10-10-10S0 6.477 0 12c0 1.55.327 3.23.999 4.78.693 1.601 1.647 2.93 2.531 3.951.863 1 1.77 1.707 2.463 2.036.712.342 1.197.553 1.395.64Z" clip-rule="evenodd" />
                    </svg>
                    <span>{{ item.location }}</span>
                </p>
            </div>

            <div class="px-4 py-2 bg-brand-orange text-white rounded-full flex items-center space-x-2 text-sm font-semibold shrink-0">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd" />
                </svg>
                <span>Status: Selesai</span>
            </div>
        </a>
        
        {% endfor %}
        
    </div>

{% else %}
    
    <div class="flex flex-col items-center justify-center pt-12 text-center">
        
        <svg class="w-16 h-16 text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1 .707.293l5.414 5.414a1 1 0 0 1 .293.707V19a2 2 0 0 1-2 2Z" />
        </svg>

        <h3 class="mt-4 text-xl font-semibold text-gray-700">Tidak Ada Riwayat Pembelian</h3>
        
        <p class="mt-2 text-gray-500">Semua transaksi Anda yang telah selesai akan tercatat di sini.</p>
    </div>

{% endif %}